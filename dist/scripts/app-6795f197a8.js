!function(){"use strict";angular.module("trump",["ngTouch","ngSanitize","ngRoute","angularModalService"])}(),function(){"use strict";function e(e){var t=document.getElementById("the-don"),n=(new createjs.Stage(t),new createjs.Shape);e.debug(n);var a=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},r={hair:function(t){var n=document.getElementById("the-don"),r=n.getContext("2d");n.getContext&&(e.debug("updating hair with id: "+t),r.fillRect(a(20,50),a(50,100),100,100))},eyes:function(){var t=document.getElementById("the-don"),n=t.getContext("2d");t.getContext&&(e.debug("updating eyes"),n.fillRect(100,100,100,100))}};return r}angular.module("trump").service("updateCanvas",e),e.$inject=["$log"]}(),function(){"use strict";function e(){function e(e,t){function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function a(){s=new createjs.Stage("the-don"),c=new createjs.Stage("the-don"),c.autoClear=!1,createjs.Touch.enable(c,s),d=[{id:"hairCurlyBrunette",src:"hair_curly_brunette.png"},{id:"hairCurlyGinger",src:"hair_curly_ginger.png"},{id:"don",src:"don_bald.png"}],u=new createjs.LoadQueue(!1),u.addEventListener("complete",r),u.loadManifest(d,!0,"../../assets/images/")}function r(){m=new createjs.Bitmap(u.getResult("don")),m.scaleX=.5,m.scaleY=.5,h=new createjs.Bitmap(u.getResult("hairCurlyBrunette")),g=new createjs.Bitmap(u.getResult("hairCurlyGinger")),s.addChild(m),s.update(),c.addEventListener("stagemousedown",i),c.addEventListener("stagemouseup",l)}function i(e){if(e.primary)switch(c.addEventListener("stagemousemove",o),f){case"brunette":p=h;break;case"ginger":p=g}}function o(e){if(e.primary)for(var t=v>.5?20:40,a=1;t>=a;a++){var r=Math.random()*v;c.addChild(p),p.x=c.mouseX+n(-20,20),p.y=c.mouseY+n(-20,20),p.rotation=n(0,360),p.scaleX=r,p.scaleY=r,c.update()}}function l(e){e.primary&&c.removeEventListener("stagemousemove",o)}a();var s,c,u,d,m,p,h,g,v,f;e.$on("hairSettings",function(e,t){v=t[0],f=t[2]}),e.$on("clearHair",function(e,t){c.clear()})}var t={replace:!0,templateUrl:"app/components/trumpCanvas/trumpCanvas.html",controller:e,controllerAs:"vm",link:function(e,t,n){}};return e.$inject=["$scope","$log"],t}angular.module("trump").directive("trumpCanvas",e)}(),function(){"use strict";function e(e){var t={restrict:"E",templateUrl:"app/components/tools/tools.html",link:function(e,t,n){}};return t}angular.module("trump").directive("tools",e),e.$inject=["$log"]}(),function(){"use strict";function e(){function e(e,t){var n=this;n.hairLength=.8,n.hairType="curly",n.hairColour="brunette",n.clearHair=function(){t.$emit("clearHair",!0)},t.$watchGroup(["vm.hairLength","vm.hairType","vm.hairColour"],function(e){t.$emit("hairSettings",e)})}var t={templateUrl:"app/components/hairSettings/hairSettings.html",controller:e,controllerAs:"vm",link:function(e,t,n){}};return e.$inject=["$log","$scope"],t}angular.module("trump").directive("hairSettings",e)}(),function(){"use strict";function e(e,t){var n=this;e.debug("Main"),n.showHairModal=function(){t.showModal({templateUrl:"app/hairModal/hairModal.html",controller:"HairModalController"}).then(function(e){e.close.then(function(){})})},n.showDrawModal=function(){t.showModal({templateUrl:"templates/draw.html",controller:"DrawController"}).then(function(e){e.close.then(function(){})})}}angular.module("trump").controller("MainController",e),e.$inject=["$log","ModalService"]}(),function(){"use strict";function e(e,t,n,a){t.closeModal=function(){e.debug("dismissModal"),n()},t.addHairToCanvas=function(e){a.hair(e),t.closeModal()}}angular.module("trump").controller("HairModalController",e),e.$inject=["$log","$scope","close","updateCanvas"]}(),function(){"use strict";function e(e){e.debug("Credits")}angular.module("trump").controller("CreditsController",e),e.$inject=["$log"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("trump").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).when("/credits",{templateUrl:"app/credits/credits.html",controller:"CreditsController",controllerAs:"credits"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}angular.module("trump").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),function(){"use strict";angular.module("trump")}(),function(){"use strict";function e(e){e.debugEnabled(!0)}angular.module("trump").config(e),e.$inject=["$logProvider"]}(),angular.module("trump2").run(["$templateCache",function(e){e.put("app/credits/credits.html",'<div ng-include="" src="\'app/includes/header.html\'"></div><div class="container"><h3>Credits</h3><div ng-include="" src="\'app/includes/footer.html\'"></div></div>'),e.put("app/hairModal/hairModal.html",'<div class="modal-bg"><div class="modal hair"><p>choose hair:</p><span class="hair-type pointer" ng-click="addHairToCanvas(1)">Brad</span> <span class="hair-type pointer" ng-click="addHairToCanvas(2)">Simon</span> <span class="hair-type pointer" ng-click="addHairToCanvas(3)">Ellen</span><br><small class="pointer" ng-click="closeModal()">close</small></div></div>'),e.put("app/includes/footer.html",""),e.put("app/includes/header.html",'<header><div class="trumpsformation"><img src="../assets/images/trumpsformation.svg"></div><div class="corporate-swoosh"><img src="../assets/images/corporate-swoosh.svg"></div><div class="eclipse"></div></header>'),e.put("app/main/main.html",'<div ng-include="" src="\'app/includes/header.html\'"></div><div class="container"><trump-canvas></trump-canvas></div><div ng-include="" src="\'app/includes/footer.html\'"></div>'),e.put("app/components/hairSettings/hairSettings.html",'<div class="hair-settings"><form name="hairSettings"><p class="length">Hair length</p><div class="curly"><img src="../assets/images/curly.png"></div><p class="hair-caption top">Curly</p><input type="range" min="0.3" max="0.9" step="0.05" ng-model="vm.hairLength"><p class="hair-caption">Stubbly</p><div class="stubbly"><img src="../assets/images/stubbly.png"></div><p class="hair-colour">Hair colour</p><input type="radio" name="hairColour" value="brunette" id="brunette" ng-model="vm.hairColour"><br><label for="brunette">Brunette</label> <input type="radio" name="hairColour" value="ginger" id="ginger" ng-model="vm.hairColour"><br><label for="ginger">Ginger</label><br><div class="clear-hair" ng-click="vm.clearHair()"><p>Clear hair</p><img src="../assets/images/clear-hair.svg"></div></form></div>'),e.put("app/components/tools/tools.html",'<div class="tools"><div class="tool" ng-click="vm.showHairModal()">Choose hairstyle</div><div class="tool" ng-click="vm.showEyesModal()">Change eyes</div><div class="tool" ng-click="vm.showMouthModal()">Change mouth</div><div class="tool" ng-click="vm.showTanModal()">Change tan</div><div class="tool" ng-click="vm.showBackgroundModal()">Change backgrnd</div></div>'),e.put("app/components/trumpCanvas/trumpCanvas.html",'<div class="canvas-container"><tools></tools><canvas id="the-don" width="550" height="586"></canvas><hair-settings></hair-settings></div>')}]);